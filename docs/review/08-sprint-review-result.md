# スプリントレビュー議事録（詳細版・ロールプレイ）

- 会議名: Event Reservation MVP スプリントレビュー
- 開催日時: 2026-02-16 10:00-11:30
- 記録者: 開発マネージャ
- 形式: ロールプレイ（実会議の発話粒度で記録）

## 参加者

- 開発マネージャ（司会）
- プロダクトオーナー（優先度決定）
- イベント運営担当者（管理者目線・参加者目線）
- UIUXデザイナー
- セキュリティリスク管理者
- テックリード（コード保守性）

## 0. 会議冒頭

### 10:00 開会

開発マネージャ:
「定刻になったので開始します。今日のゴールは、MVPの評価を揃えて、次スプリントのユーザーストーリーを10件に確定することです。」

プロダクトオーナー:
「最終的には優先度まで決め切りたいです。P0は次スプリント内で完了前提にします。」

開発マネージャ:
「了解です。アジェンダは3点です。1) MVPリリース内容 2) ステークホルダーコメント 3) 次スプリントの10ストーリー確定。」

---

## 1. MVPのリリース内容説明（開発マネージャ）

### 10:03 説明

開発マネージャ:
「今回のMVPで実装した範囲を簡潔に共有します。」

- ゲストログイン
- キーノート予約、通常セッション予約、キャンセル
- 予約制約（同時間帯制約、上限、締切、定員）
- マイページ（予約一覧、受付QR）
- 管理者向けセッション作成/更新
- CSVエクスポート（予約、チェックイン）
- イベント/セッションチェックイン記録
- バックエンドテスト、フロントE2E
- レビュー資料（機能一覧、図、操作マニュアル、テストケース一覧）

開発マネージャ:
「補足で、GitHub Pagesのデプロイが待機状態になる事象があったため、ローカルプレビュー手順を運用に追加しています。」

イベント運営担当者:
「最低限の業務フローは通せるという理解で良いですか？」

開発マネージャ:
「はい、MVPとしての一連の操作は可能です。ただし当日運用の実務観点では改善余地が大きいです。」

---

## 2. ステークホルダーからのレビューコメント

### 2.1 イベント運営担当者（管理者目線）

#### 10:12 コメント

イベント運営担当者:
「まず管理者導線ですが、参加者向けUIと同じ画面にあるので、現場で誤操作が怖いです。管理画面は分けたいです。」

イベント運営担当者:
「チェックインが `QR payload` の手入力前提なのも現場では厳しいです。受付列ができるので、スキャン連携が必要です。」

イベント運営担当者:
「問い合わせ対応のために、参加者検索、予約状況確認、手動修正、操作履歴が必要です。現状はCSV頼みで遅いです。」

開発マネージャ:
「運営実務で必要な『即応性』の不足が主論点ですね。記録します。」

#### 10:16 深掘り

プロダクトオーナー:
「当日オペで最も詰まるのはどこですか？」

イベント運営担当者:
「チェックインです。いまの入力方式だと、1件あたりの処理時間が長い。次に、満席間近セッションの監視ができない点です。」

### 2.2 イベント運営担当者（参加者目線）

#### 10:20 コメント

イベント運営担当者:
「参加者としては、セッションをリストでなくタイムテーブルで比較したいです。今の並びでは選びにくいです。」

イベント運営担当者:
「あと、予約後の表示が `sessionId` 中心で分かりにくい。タイトル・時刻・トラックを主表示にしてほしいです。」

イベント運営担当者:
「締切前通知や変更通知がないので、参加者体験として不安が残ります。」

### 2.3 UIUXデザイナー

#### 10:26 コメント

UIUXデザイナー:
「一番大きいのは、スタイル基盤が未整備で、情報階層が視覚的に伝わらないことです。これは体験以前の土台課題です。」

UIUXデザイナー:
「メッセージ表示もグローバル1箇所で、どの操作結果か分かりにくいです。コンテキスト別に通知を分けるべきです。」

UIUXデザイナー:
「参加者導線と運営導線は画面分離が必要です。同一面に混ぜると理解負荷が高すぎます。」

#### 10:31 補足

テックリード:
「現行UIが単一コンポーネントに集中しているので、デザイン改善と同時に構造分割しないと再発します。」

UIUXデザイナー:
「同意です。レイアウトだけでなく、状態設計（loading/disabled/error）も一緒に定義しましょう。」

### 2.4 セキュリティリスク管理者

#### 10:35 コメント

セキュリティリスク管理者:
「最優先はQR生成の外部送信です。payloadに `guestId` と予約情報が含まれており、外部サービス依存は高リスクです。」

セキュリティリスク管理者:
「次に、チェックインAPIの権限境界です。書き込み権限の扱いを明示し、実行主体と対象データの整合ルールを固定化すべきです。」

セキュリティリスク管理者:
「管理者認証が固定トークン1本、かつクライアント永続保管なのもリスクです。失効、期限、追跡可能性が必要です。」

#### 10:41 質疑

プロダクトオーナー:
「P0判定はQR外部送信とチェックイン権限、の2件で妥当ですか？」

セキュリティリスク管理者:
「妥当です。ここは『次スプリントで必ず潰す』前提でお願いします。」

### 2.5 テックリード（コード保守性）

#### 10:44 コメント

テックリード:
「保守性では2点が重いです。フロント `App.vue` の責務集中、バックエンド `ReservationService` の肥大化です。」

テックリード:
「加えて、`GuestAuthenticationFlowTest` が500行超で、テスト失敗時の切り分けに時間がかかります。機能別分割が必要です。」

テックリード:
「カバレッジ自体は高いですが、分岐カバレッジには改善余地があります。量よりも保守可能なテスト構造へ寄せるべきです。」

### 2.6 開発マネージャ総括

#### 10:50 まとめ

開発マネージャ:
「MVPとして機能成立はしているが、次スプリントは運用性・安全性・保守性の技術負債返済を主軸に置く、で認識合わせしたいです。」

全員:
「異議なし。」

---

## 3. 次スプリントに積むユーザーストーリー（10件）決定

### 10:55 候補の絞り込み

プロダクトオーナー:
「優先軸を確認します。P0は“放置できないリスク”に限定、P1は“運用成立のための必須改善”、P2は“継続改善”で整理します。」

開発マネージャ:
「了解です。1件ずつ確認して確定します。」

### 3.1 確定した10ストーリー

#### P0（次スプリント内完了必須）

1. **US-10: 参加者として、外部送信なしでQR表示したい**
- 価値: 個人情報漏えいリスク低減
- 受け入れ条件:
  - QR生成がアプリ内で完結する
  - 外部QR APIへの通信が発生しない

2. **US-11: 運営として、チェックイン書き込み権限を厳格に管理したい**
- 価値: 不正記録防止
- 受け入れ条件:
  - チェックインAPIの実行主体ルールを仕様化
  - 仕様外の実行は拒否される

3. **US-12: 参加者/運営として、画面導線を分離して誤操作を防ぎたい**
- 価値: 現場運用性向上
- 受け入れ条件:
  - 参加者画面と管理画面が明確に分離
  - 参加者導線から管理UIが見えない

4. **US-13: 利用者として、最低限の視認性と操作性を持つUIで利用したい**
- 価値: 体験品質の土台確立
- 受け入れ条件:
  - CSS基盤（余白、階層、状態表現）が適用
  - ローディング/エラー/成功状態が識別可能

#### P1（次点で着手）

5. **US-14: 参加者として、セッションをタイムテーブルで比較したい**
- 価値: 予約判断の迅速化
- 受け入れ条件:
  - 時間×トラックで表示
  - 各枠で予約操作できる

6. **US-15: 運営として、管理者認証を短命・失効可能な方式で運用したい**
- 価値: 権限漏えい時の影響最小化
- 受け入れ条件:
  - 固定トークン単一依存を解消
  - 期限・失効の仕組みがある

7. **US-16: 利用者として、クライアントに機密トークンを永続保存されたくない**
- 価値: 端末リスク低減
- 受け入れ条件:
  - 管理者トークン永続保存を廃止
  - セッション終了時に確実に破棄

8. **US-17: 参加者として、予約情報を時刻・トラック・タイトル中心で見たい**
- 価値: 当日の行動判断がしやすい
- 受け入れ条件:
  - `sessionId` 依存の表示を改善
  - マイページ/予約一覧の可読性向上

#### P2（継続改善）

9. **US-18: 運営として、CSVを安全に取り扱いたい**
- 価値: CSV経由の攻撃リスク低減
- 受け入れ条件:
  - 危険文字先頭セルの無害化処理を適用

10. **US-19: 開発者として、巨大統合テストを分割し保守しやすくしたい**
- 価値: 障害解析時間の短縮
- 受け入れ条件:
  - `GuestAuthenticationFlowTest` を機能別に分割
  - 失敗時の責務境界が明確

### 11:18 合意確認

プロダクトオーナー:
「10件で確定します。P0の4件は完了必須、P1は可能な限り着手、P2は余力対応で進めます。」

開発マネージャ:
「実装計画と担当割りを今週中に出します。」

全員:
「異議なし。」

---

## 4. 決定事項（Decision Log）

- D-01: 次スプリントの主テーマは「運用品質・セキュリティ・保守性」
- D-02: QR外部依存廃止をP0で実施
- D-03: チェックイン権限モデルをP0で再設計
- D-04: 参加者/運営画面分離をP0で実施
- D-05: CSS基盤整備をP0で実施
- D-06: US-10〜US-19の10件をバックログ確定

## 5. 保留事項（Parking Lot）

- 複数イベント対応の時期（MVP+2以降で再評価）
- 通知チャネル（メール/Push/LINE）の採用方針
- 監査ログの保持期間と運用フロー

## 6. アクションアイテム

- 開発マネージャ:
  - US-10〜US-19をIssue化し、P0/P1/P2ラベル付与
  - P0の見積と担当割りを確定
- UIUXデザイナー:
  - 参加者/運営分離後の画面遷移図
  - タイムテーブルUIと状態表示ルール
- セキュリティリスク管理者:
  - QR内製化方式のレビュー
  - チェックイン権限仕様のレビュー
- テックリード:
  - `App.vue` 分割方針
  - `ReservationService` 責務分割案
  - テスト分割戦略
- プロダクトオーナー:
  - P0完了定義（DoD）確定
  - スプリントゴール文言確定

## 7. 閉会

### 11:30

開発マネージャ:
「本日の合意内容で次スプリント計画に入ります。以上で終了します。」

