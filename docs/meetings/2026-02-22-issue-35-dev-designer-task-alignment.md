# Issue #35 開発者/デザイナー タスク整理ミーティング

## 保存先
`docs/meetings/2026-02-22-issue-35-dev-designer-task-alignment.md`

## 日時
2026-02-22

## 参加者
- 開発者（Dev-Aki）
- デザイナー（Design-Mio）

## ファシリテータ
デザイナー

## 用語定義
- Issue #35: 予約情報を時刻・トラック・タイトル中心で表示する改善タスク
- 予約一覧: 参加者画面右側の「予約一覧」パネル
- マイページ: 参加者画面右側の「マイページ（QR）」パネル
- 表示モデル: UIに渡す表示用データ（title / time / track 等）

## アジェンダ
1. Issue #35の未充足範囲を確定する
2. 開発者とデザイナーの実行タスクを分担する

## 議事録
<details>
  <summary>デザイナー</summary>
  予約一覧が既に人間可読になっているため、全面リデザインをすると過剰変更になりやすいと判断した。比較候補としては、A案: マイページだけ最小修正、B案: 予約一覧とマイページを同一カードUIに統合、の2案を検討。B案は統一感の価値があるが、Issue #35の受け入れ条件にないレイアウト変更や余白調整が増え、検証軸が広がる。今回は受け入れ条件を優先し、文言・情報設計中心に絞る方が妥当。
</details>

デザイナー: まず現状との差分を明確にすると、予約一覧はすでに「タイトル + 時刻 | トラック」で読めるため、Issue #35の主な未充足はマイページの予約表示が`sessionId`生表示のままな点です。A案としてマイページの表示モデルだけ改善する方法、B案として予約一覧とマイページの見た目を統合する方法を比較すると、A案は価値として受け入れ条件への直結性が高く、リスクは低く、工数は小、依存はほぼなし、検証は既存E2Eの期待値更新で足ります。B案は価値として一貫性向上がある一方、リスクはスコープ逸脱、工数は中、依存は追加デザイン合意、検証は回帰範囲拡大になります。初回ラウンドではA案を第一候補に置きたいです。

<details>
  <summary>開発者</summary>
  実装観点では、表示モデルの変換責務をViewに置くかcomposableに寄せるかを比較した。A案: View内computedでマッピング、B案: composableで共通mapper化。今回は対象が参加者View内の2パネル限定で、共通化の再利用先がまだないためA案が適切。ただし将来の再利用余地を見て、型名だけは抽象化しておくと拡張しやすい。
</details>

開発者: 技術面で2案比較すると、A案は`ParticipantView`で`myPageReservations`を表示モデルへ変換して`ParticipantQrPanel`へ渡す、B案は`useReservationApp`側に表示モデル変換関数を新設して全画面から利用する、です。A案の価値は変更箇所を局所化できる点で、リスクは低、工数は小、依存はなし、検証は`us06-mypage-qr.spec.ts`とStorybook調整で完結します。B案は将来拡張の価値はあるものの、現時点では抽象化コストが先行し、Issue #35の達成には不要です。現段階ではA案を採用し、B案は将来課題として残すのが合理的です。

<details>
  <summary>デザイナー</summary>
  反証として、表示項目を増やし過ぎるとモバイル可読性が落ちる懸念がある。タイトルを主、メタを1行までに制限し、trackの表記ゆれ（Track A / Aトラック）をこのIssueで発生させない方針が必要。マイページはQRが主役なので予約情報の視覚的優先度を上げ過ぎない。
</details>

デザイナー: 2ラウンド目としてA案に条件を付けます。文言優先順位は「タイトル > 時刻・トラック > ID非表示」とし、表示密度を上げすぎないことを条件にしたいです。さらに表示データ不足時のフォールバックは、`sessionId`をそのまま出すより「セッション情報を取得できませんでした」のようなユーザー向け文言に寄せた方が体験として安全です。ここは開発側で実装可能でしょうか。

<details>
  <summary>開発者</summary>
  反証として、完全にIDを隠すと運用調査で逆引き困難になる可能性はあるが、Issue #35は参加者向け可読性が目的なのでUIには露出しない方針が妥当。代替案として「暫定表示時のみIDを括弧で薄く出す」案も検討したが、ノイズ増加が勝るため不採用。
</details>

開発者: 条件付きで対応可能です。フォールバックは「キーノート」「不明なセッション」等の人間可読ラベルにし、`sessionId`生表示は基本廃止します。キャンセル導線は既存の予約一覧で維持済みなので、このIssueでは壊さないことを回帰基準に置きます。検証は、E2Eでマイページの期待値を更新し、Storybookでも`QrPanel`ストーリーの予約表示を表示モデルに合わせて修正します。B案を採用しない理由は、目的達成に対して影響範囲が過大で、短期的な回帰リスクが高いためです。

## 決定事項
- Issue #35は「マイページの予約表示をsessionId依存から人間可読表示へ移行する」ことを中心スコープにする。
- 開発者タスク:
  - `ParticipantView`でマイページ用表示モデル（title / timeAndTrack）を生成し、`ParticipantQrPanel`へ渡す。
  - `ParticipantQrPanel`のpropsを表示モデル対応へ変更し、`sessionId`生表示を廃止する。
  - フォールバック文言を「不明なセッション」等の参加者向け表示に統一する。
  - E2E（`us06-mypage-qr.spec.ts`）とStorybook（`ParticipantQrPanel.stories.ts`）の期待値を更新する。
- デザイナータスク:
  - マイページ内予約表示の情報優先順位（タイトル主、メタ従）を文言ルールとして確定する。
  - フォールバック文言のUXトーン（不安を煽らず次行動が分かる）を確定する。
  - モバイル（390x844）でQR主導線を阻害しない表示密度かをレビュー観点として提示する。

## Next Action
- [ ] デザイナー（Design-Mio） Issue #35に「表示優先順位とフォールバック文言方針」をコメント投稿する（完了条件: コメントURL共有）。
- [ ] 開発者（Dev-Aki） Issue #35に「実装対象ファイルと検証対象（E2E/Storybook）」をコメント投稿する（完了条件: コメントURL共有）。
