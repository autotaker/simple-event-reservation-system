# UIUX_GUIDELINE

このリポジトリでUIUXデザイナーが実施すべき項目を整理したガイドです。

## 1. 目的
- 開発着手前に画面モックで実装意図を明確化する。
- マージ後にUX品質を検証し、ユーザーストーリー成立を担保する。

## 2. 使用ツール
- ワイヤーフレーム: `draw.io`（Desktop版を推奨）
- UIカタログ: `Storybook`（`frontend` 配下）
- ドキュメント公開: GitHub Pages（`/storybook/` 配下で公開）

## 3. 責任範囲
- PR作成前: 画面モックの作成と開発担当者への共有。
- マージ後: `main` ブランチでのUXテスト実施と結果報告。
- UX課題を再現可能な形で記録し、改善提案まで提示する。

## 4. PR作成前（モック作成）
- Issueの受け入れ条件と対象ユーザーフローを確認する。
- `draw.io` で主要画面のモックを作成する（必要最小限の画面状態を含む）。
  - 初期表示
  - 成功状態
  - 失敗状態（必要な場合）
- モックには以下を明記する。
  - 画面遷移
  - 主要操作（CTA）
  - エラー時のフィードバック方針
- モックで確定した単位をStorybookコンポーネントモックへ落とし込む。
- 開発担当者と認識合わせを行い、実装前に合意を取る。

## 5. UIカタログ（Storybook）
- Storybookの起動:
  - `cd frontend && pnpm storybook`
- Storybookの静的ビルド:
  - `cd frontend && pnpm build-storybook`
- UIカタログは `MDX` 形式で作成し、仕様を文章で読める状態にする。
- モックコンポーネントの命名は `〜Mock` を必須とする。
  - 例: `SessionCardMock.vue`, `CheckInPanelMock.vue`
- `〜Mock` は仕様確認用の参照実装であり、開発担当はそれを基に実コンポーネントと実ストーリーを作成する。
- ストーリーは受け入れ条件の判定に必要な状態を定義する（例: `default`, `loading`, `success`, `error`）。
- MDXには最低限以下を含める。
  - なぜそのデザインにしたか（設計意図）
  - ボタンや入力要素など、主要UI要素の役割
  - 各ストーリーで何を確認するか（確認観点）
- 実コンポーネントと実ストーリーの作成後は、原則 `〜Mock` を削除する。
- 初期追加・改修時は「見た目確認用の最小モック」を先に作り、実装詳細（composable等）はフロント担当に引き継ぐ。

## 6. マージ後（UXテスト）
- `main` を最新化した状態で対象導線を通しで確認する。
- モック意図と実装結果の差分を確認する。
- Storybook上で、`〜Mock` から派生した実コンポーネントのストーリーが担保されていることを確認する。
- 動作確認は UI/UX 担当が Playwright MCP を使って実導線を操作し、主要ストーリーに対応する挙動を確認する。
- 自動テスト（E2E/コンポーネントテスト）の結果は、開発担当が担保した証跡として参照する。
- 以下の観点でUXテストを行う。
  - 導線の分かりやすさ
  - 操作回数・操作負荷
  - 文言の明確さ
  - エラー時の理解しやすさ
  - フィードバックの即時性（一貫した表示/更新）

## 7. ローカル確認と公開
- `mkdocs serve` では `/storybook/` の同梱配信は行わない。
- ローカルでPages相当を確認する場合は以下を使用する。
  1. `cd frontend && pnpm build-storybook`
  2. `mkdocs build`
  3. `site/storybook/` に `frontend/storybook-static/` をコピー
  4. `site/` を静的サーバーで配信して確認する（例: `python3 -m http.server`）
- GitHub Pages公開は `.github/workflows/docs-pages.yml` で実施する。

## 8. 指摘フォーマット
- 指摘は日本語で記載する。
- 各指摘に以下を含める。
  - 優先度（`P1`/`P2`/`P3`）
  - 事象
  - 再現手順
  - 期待結果 / 実結果
  - 影響範囲
  - 改善提案

## 9. 完了条件
- モックが対象受け入れ条件をカバーしている。
- Storybookで受け入れ条件の判定に必要な状態が確認できる。
- `〜Mock` を基に作成された実コンポーネントのストーリーが存在し、UXテスト時に確認できる。
- 原則として `〜Mock` が整理（削除）され、運用対象が実コンポーネントへ統一されている。
- マージ後UXテスト結果が記録されている。
- 重要なUX課題（P1/P2）の対応方針が開発チームと合意できている。
