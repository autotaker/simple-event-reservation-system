# UIUX_GUIDELINE

このリポジトリでUIUXデザイナーが実施すべき項目を整理したガイドです。

## 1. 目的

- 開発着手前に画面モックで実装意図を明確化する。
- マージ後にUX品質を検証し、ユーザーストーリー成立を担保する。

## 2. 使用ツール

- ワイヤーフレーム: `draw.io`（Desktop版を推奨）
- UIカタログ: `Storybook`（`frontend` 配下）
- ドキュメント公開: GitHub Pages（`/storybook/` 配下で公開）

## 3. 責任範囲

- デザイナーPR（モックPR）作成前後: 画面モックの作成、PR化、開発担当者への共有。
- デザイントークン（`core` / `semantic`）の設計・命名・更新方針の管理。
- マージ後: `main` ブランチでのUXテスト実施と結果報告。
- UX課題を再現可能な形で記録し、改善提案まで提示する。

## 4. デザイナーPR作成（ワイヤーフレーム・コンポーネントモック作成）

- Issueの受け入れ条件と対象ユーザーフローを確認する。
- `draw.io` で主要画面のワイヤーフレームを作成する
- ワイヤーフレームで確定した単位をStorybookコンポーネントモックへ落とし込む。
- モック作成時に既存デザイントークンで表現できない要素がある場合は、`core` / `semantic` トークンを追加してからモックへ反映する。
- 開発担当者と認識合わせを行い、実装前に合意を取る。
- モック成果物を「デザイナーPR」として作成し、レビュー後に先にマージする。
- デザイナーPRの下書きには `.github/pr_templates/ui-mock-pr-template.md` を使用できる（モック合意のために見出し再構成済み）。
- 開発担当者の実装PRは、デザイナーPRが `main` にマージされた後に作成する。

## 5. UIカタログ（Storybook）

- Storybookの起動:
  - `cd frontend && pnpm storybook`
- Storybookの静的ビルド:
  - `cd frontend && pnpm build-storybook`
- UIカタログは `MDX` 形式で作成し、仕様を文章で読める状態にする。
- モックコンポーネントの命名は `〜Mock` を必須とする。
  - 例: `SessionCardMock.vue`, `CheckInPanelMock.vue`
- `〜Mock` は仕様確認用の参照実装であり、開発担当はそれを基に実コンポーネントと実ストーリーを作成する。
- MDXには最低限以下を含める。
  - なぜそのデザインにしたか（設計意図）
  - ボタンや入力要素など、主要UI要素の役割
  - 各ストーリーで何を確認するか（確認観点）
- 実コンポーネントと実ストーリーの作成後は、原則 `〜Mock` を削除する。
- 初期追加・改修時は「見た目確認用の最小モック」を先に作り、実装詳細（composable等）はフロント担当に引き継ぐ。

## 6. マージ後（UXテスト）

- `main` を最新化した状態で対象導線を通しで確認する。
- モック意図と実装結果の差分を確認する。
- Storybook上で、`〜Mock` から派生した実コンポーネントのストーリーが担保されていることを確認する。
- 動作確認は UI/UX 担当が Playwright MCP を使って実導線を操作し、主要ストーリーに対応する挙動を確認する。
- 自動テスト（E2E/コンポーネントテスト）の結果は、開発担当が担保した証跡として参照する。
- 以下の観点でUXテストを行う。
  - 導線の分かりやすさ
  - 操作回数・操作負荷
  - 文言の明確さ
  - エラー時の理解しやすさ
  - フィードバックの即時性（一貫した表示/更新）

## 7. ローカル確認と公開

- `mkdocs serve` では `/storybook/` の同梱配信は行わない。
- ローカルでPages相当を確認する場合は以下を使用する。
  1. `cd frontend && pnpm build-storybook`
  2. `mkdocs build`
  3. `site/storybook/` に `frontend/storybook-static/` をコピー
  4. `site/` を静的サーバーで配信して確認する（例: `python3 -m http.server`）
- GitHub Pages公開は `.github/workflows/docs-pages.yml` で実施する。

## 8. 指摘フォーマット

- 指摘は日本語で記載する。
- 各指摘に以下を含める。
  - 優先度（`P1`/`P2`/`P3`）
  - 事象
  - 再現手順
  - 期待結果 / 実結果
  - 影響範囲
  - 改善提案

## 9. コミュニケーション（Issueコメント）

- UXレビュー結果のIssueコメントは以下テンプレートを使用する。

```md
## UXレビュー結果

- 対象Issue: #<番号>
- 実施日時: <YYYY-MM-DD HH:mm JST>
- 対象環境: <main / PRブランチ>
- 総合判定: <Pass/Fail>

### 確認チェックポイント

- <チェックポイント1>: <Pass/Fail>
- <チェックポイント2>: <Pass/Fail>

### 指摘事項

- [P<1-3>] <事象の要約>
  - 再現手順: <手順>
  - 期待結果: <期待>
  - 実結果: <実際>
  - 影響範囲: <影響>
  - 改善提案: <提案>

### 備考

- <補足 or なし>
```

- 指摘がない場合も `指摘事項: なし` を明記する。
- Fail判定時は、再確認が必要な条件と再テスト条件を `備考` に明記する。

## 10. 完了条件

- モックが対象受け入れ条件をカバーしている。
- Storybookで受け入れ条件の判定に必要な状態が確認できる。
- `〜Mock` を基に作成された実コンポーネントのストーリーが存在し、UXテスト時に確認できる。
- 原則として `〜Mock` が整理（削除）され、運用対象が実コンポーネントへ統一されている。
- マージ後UXテスト結果が記録されている。
- 重要なUX課題（P1/P2）の対応方針が開発チームと合意できている。
