# DEVELOPER_GUIDELINE

このリポジトリで実装担当が最低限実施すべき項目を整理したガイドです。

## 1. 着手前チェック

- `AGENTS.md` を確認し、作業ルールを把握する
- 対応Issueの受け入れ条件を箇条書きで分解する
- 依存Issueがある場合は完了状態を確認する
- ローカル起動が必要な場合は `README.md` の「🚀 ローカル開発環境構築」に従う

## 2. 実装方針

- 受け入れ条件に直接必要な変更だけを行う
- サーバ側で制約を強制し、UIはその結果を表示する
- エラー時はユーザーに意味が分かるメッセージを返す
- 並行アクセスがあり得るデータ構造はスレッドセーフにする

## 3. テスト方針

- 受け入れ条件ごとに最低1つは自動テストを用意する
- API制約は `backend` テストで検証する
- ユーザーストーリーは UI導線を通る E2E で検証する
- `QA_GUIDELINE.md` に従い、API成功のみで Pass 判定しない

## 4. US-04（セッション予約制約）で確認すべき観点

- 同時間帯重複予約が拒否される（400）
- 通常セッションが最大5件までに制限される（400）
- 締切（開始30分前）超過時に予約拒否される（400）
- 定員超過が発生しない（409、排他制御）
- ルール違反時に意味のあるエラーメッセージが返る
- UIから通常セッション予約操作が可能である

## 5. PR作成時

- `.github/pull_request_template.md` の見出し・順序を変更しない
- テンプレート項目を空欄にしない（未実施は未実施と明記）
- `関連Issue` に `Closes #<Issue番号>` を必ず記載する
- 実行したテストコマンドと結果を記載する

## 6. 完了条件

- 受け入れ条件に未達がない
- `backend` テストが成功している
- 必要な `frontend` テスト / E2E が成功している
- QAコメントで再現可能な証跡を示せる
