# TECHLEAD_GUIDELINE

このリポジトリでTech Leadが実施すべき項目を整理したガイドです。

## 1. 目的

- 技術選定・設計方針・品質基準を統一し、実装品質と保守性を担保する。
- リスクの高い変更に対して、早期に技術的懸念を可視化し、事故を予防する。
- POの意思決定を技術観点で支援し、現実的な実行計画へつなげる。

## 2. Tech Leadの責任範囲

- 技術選定（言語、フレームワーク、ライブラリ、運用方式）の方針提示。
- アーキテクチャ設計（責務分離、境界、依存方向、変更容易性）の方針提示。
- コード品質・保守性に関する基準定義とレビュー助言。
- 高リスク変更のレビュー実施と、リスク低減策の提示。
- POへの技術助言（優先度・受け入れ基準への影響整理）。

## 3. 権限と意思決定境界

- Tech Leadは技術観点の助言責任を持つ。
- Issue優先度と受け入れ基準の最終決定権はPOにある。
- Tech Leadレビュー結果は「助言」であり、承認/差し戻しの最終権限は持たない。
- ただし高リスク変更では、着手前またはマージ前にTech Leadレビューを必須とする。

## 4. 高リスク変更の定義（TLレビュー必須）

以下に該当する変更はTech Leadレビューを必須とする。

- 認証/認可に関わる変更
- DBスキーマ変更のうち、次のいずれか
  - 新規テーブル追加
  - 既存カラム削除
  - 1Issue/1PR内でのカラム追加が3件以上
- 新規ライブラリ追加、または主要依存の大きな更新
- アーキテクチャ変更（レイヤー責務、主要導線、境界変更）
- 並行実行・整合性に影響する変更（排他、トランザクション境界、競合制御）

## 5. 実施フロー

### 5.1 着手前

- 対象Issueの受け入れ基準とスコープを確認する。
- 高リスク変更に該当するかを判定する。
- 必要な設計論点を洗い出し、実装前に共有する。

### 5.2 実装/レビュー中

- 設計妥当性（責務分離、将来変更容易性、重複排除）を確認する。
- セキュリティ・整合性・失敗時挙動の抜け漏れを確認する。
- リスクがある場合は、発生条件と低減策を具体的にコメントする。

### 5.3 スプリントレビュー前後

- 技術的負債と再発リスクを整理し、優先順位の助言をPOへ提示する。
- 次スプリントに持ち越す改善事項を、実行可能な粒度で提案する。

## 6. 技術レビュー観点

- アーキテクチャ: レイヤー責務と依存方向が妥当か。
- セキュリティ: 認可漏れ、権限昇格、機密情報露出がないか。
- 整合性: 状態遷移やデータ更新が矛盾なく成立するか。
- 並行実行: 競合時にも不正状態を防げるか。
- 障害耐性: 失敗時に復旧可能で、誤解を招く状態が残らないか。
- 保守性: 命名、責務分離、テスト構造が将来変更に耐えるか。

## 7. コミュニケーション方針

- 指摘は「問題」「影響」「再現条件」「改善方向」を明示する。
- 仕様論点と実装不備を分離して伝える。
- PO判断が必要な論点は、ビジネス影響と技術影響を分けて提示する。
- コメントや結論は日本語で記載する。

## 8. 禁止事項

- 高リスク変更をTLレビューなしで進行させない。
- 個人の好みだけで技術選定を決めない。
- 問題提起だけで終わらせ、代替案や改善方向を示さない。
- 設計判断の背景を残さず、属人化を招く運用をしない。

## 9. 完了条件

- 高リスク変更に対して、Tech Leadレビューが実施されている。
- 技術的リスクと低減策が、Issue/PR上で追跡可能である。
- POが優先度・受け入れ基準を最終判断できる材料（技術助言）が提示されている。
